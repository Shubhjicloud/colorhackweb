<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Panel</title>

<style>
  body {
    margin: 0;
    background: #0e0e0e;
    color: #fff;
    font-family: Arial, sans-serif;
    text-align: center;
  }
  .box {
    max-width: 400px;
    margin: 60px auto;
    padding: 20px;
    background: #161616;
    border-radius: 10px;
  }
  input, button {
    width: 100%;
    padding: 12px;
    margin-top: 10px;
    border-radius: 6px;
    border: none;
    font-size: 16px;
  }
  button {
    background: #00c853;
    color: #000;
    font-weight: bold;
  }
  .headline {
    font-size: 18px;
    margin-bottom: 20px;
    color: #00e5ff;
  }
  .result {
    font-size: 22px;
    margin-top: 15px;
  }
</style>
</head>

<body>

<div class="box" id="loginBox">
  <h2>Login</h2>
  <input id="uid" placeholder="User ID">
  <input id="upass" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <button class="help-btn" onclick="openHelp()">
  ID / Password ?
  </button>
  <p id="msg"></p>
</div>

<div class="box" id="app" style="display:none;">
  <div class="headline">
    Color trading under 2-3 level win 10001%
  </div>
  <div id="period" class="result"></div>
  <div id="result" class="result"></div>
</div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
  apiKey: "AIzaSyBC7hcszUXYhcOeTXEuFWGChoGPZsnooGk",
  authDomain: "webapp-63c43.firebaseapp.com",
  projectId: "webapp-63c43",
};
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  function login() {
    const u = uid.value.trim();
    const p = upass.value.trim();

    if (!u || !p) {
      msg.innerText = "Enter ID & Password";
      return;
    }

    db.collection("users").doc(u).get().then(doc => {
      if (!doc.exists) {
        msg.innerText = "Invalid User";
        return;
      }

      const data = doc.data();
      if (data.password !== p || data.active !== true) {
        msg.innerText = "Wrong Password or Blocked";
        return;
      }

      localStorage.setItem("loggedUser", u);
      loginBox.style.display = "none";
      app.style.display = "block";
      loadResult();
    });
  }

  function loadResult() {
    db.collection("results").doc("live")
      .onSnapshot(doc => {
        const d = doc.data();
        period.innerText = "Period: " + d.period;
        result.innerText = "Result: " + d.result;
      });
  }

  // auto login
  if (localStorage.getItem("loggedUser")) {
    loginBox.style.display = "none";
    app.style.display = "block";
    loadResult();
  });
  function  openHelp() {
 windoww.open("https:/tt.me/Manageradmin_pannel", "_blank");
  }
  
</script>

</body>

</html>


